---
layout: default
---

<div class="home">
  {%- if page.title -%}
    <h1 class="page-heading">{{ page.title }}</h1>
  {%- endif -%}

  {{ content }}

  <div class="writings-container">
    <!-- Left Column: Curated Posts -->
    <div class="writings-posts">
      <h2 class="section-heading">Posts</h2>
      {%- assign curated_posts = site.posts | where: "category", "writings-posts" -%}
      {%- if curated_posts.size > 0 -%}
        <ul class="posts-list">
          {%- for post in curated_posts -%}
          <li class="post-item">
            <div class="post-header">
              <h3 class="post-title">
                <a href="{{ post.url | relative_url }}">{{ post.title | escape }}</a>
              </h3>
              <span class="post-date">{{ post.date | date: "%B %-d, %Y" }}</span>
            </div>
            {%- if post.tags and post.tags.size > 0 -%}
              <div class="post-tags">
                {%- for tag in post.tags -%}
                  <a href="{{ '/tag/' | append: tag | relative_url }}" class="tag">{{ tag }}</a>
                {%- endfor -%}
              </div>
            {%- endif -%}
          </li>
          {%- endfor -%}
        </ul>
      {%- else -%}
        <p class="no-posts">No curated posts yet.</p>
      {%- endif -%}
    </div>

    <!-- Right Column: Daily Blog -->
    <div class="writings-blog">
      <h2 class="section-heading">Blog</h2>
      {%- assign blog_posts = site.posts | where: "category", "writings-blog" -%}
      {%- if blog_posts.size > 0 -%}
        {%- assign posts_by_year = blog_posts | group_by_exp: "post", "post.date | date: '%Y'" | sort: "name" | reverse -%}

        <div class="blog-archive">
          {%- for year_group in posts_by_year -%}
            <div class="year-group">
              <button class="year-toggle" onclick="toggleYear('year-{{ year_group.name }}')">
                <span class="toggle-icon">▼</span> {{ year_group.name }}
              </button>

              <div id="year-{{ year_group.name }}" class="year-content">
                {%- assign posts_by_month = year_group.items | group_by_exp: "post", "post.date | date: '%B'" -%}
                {%- assign month_order = "January,February,March,April,May,June,July,August,September,October,November,December" | split: "," -%}

                {%- for month_name in month_order -%}
                  {%- assign month_posts = posts_by_month | where: "name", month_name | first -%}
                  {%- if month_posts -%}
                    <div class="month-group">
                      <button class="month-toggle" onclick="toggleMonth('month-{{ year_group.name }}-{{ month_name }}')">
                        <span class="toggle-icon">▼</span> {{ month_name }}
                      </button>

                      <div id="month-{{ year_group.name }}-{{ month_name }}" class="month-content">
                        <ul class="blog-posts-list">
                          {%- for post in month_posts.items -%}
                          <li class="blog-post-item">
                            <a href="{{ post.url | relative_url }}" class="blog-post-title">{{ post.title | escape }}</a>
                            <span class="blog-post-date">{{ post.date | date: "%-d %b" }}</span>
                          </li>
                          {%- endfor -%}
                        </ul>
                      </div>
                    </div>
                  {%- endif -%}
                {%- endfor -%}
              </div>
            </div>
          {%- endfor -%}
        </div>
      {%- else -%}
        <p class="no-posts">No blog posts (yet).</p>
      {%- endif -%}
    </div>
  </div>

  <p class="rss-subscribe">subscribe <a href="{{ "/feed.xml" | relative_url }}">via RSS</a></p>

</div>

<script src="{{ '/assets/js/writings.js' | relative_url }}"></script>
